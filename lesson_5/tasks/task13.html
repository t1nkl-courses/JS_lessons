<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 5 / Задача 13</title>
</head>
<body>
    <a href="../index.html">Lesson 5</a> / <a href="./task13.html">Задача 13</a>
    <hr>
    
    <h1>Задача 13.</h1>

    <p>
        Морський бій.
        Комп’ютер випадково розташовує одиночний корабель на полі розміром N*M.
        Маючи К снарядів користувач намагається потопити корабель.
    </p>

    <script>
        const areaX = parseInt(prompt('Введіть розмір поля N', 5))
              areaY = parseInt(prompt('Введіть розмір поля M', 5))
              bombarda = parseInt(prompt('Введіть кількість снарядів', 10))
              shipX = Math.floor(Math.random() * areaX) + 1 // вирішив робити від 1 до N
              shipY = Math.floor(Math.random() * areaY) + 1; // вирішив робити від 1 до N
        
        if (isNaN(areaX) || isNaN(areaY) || isNaN(bombarda)) {
            alert('Введіть число!');
            throw new Error('Помилка! Введіть число!'); // return; - Uncaught SyntaxError: Illegal return statement
        }
    
        var bombardaCount = 0;
        var isShip = false;

        while (bombardaCount < bombarda) { // можна робити і через do while, але bombardaCount може бути 0, тому використовую while
            const bombardaX = parseInt(prompt('Введіть координату X снаряду', 1))
                  bombardaY = parseInt(prompt('Введіть координату Y снаряду', ));

            if (isNaN(bombardaX) || isNaN(bombardaY)) {
                alert('Введіть число!');
                throw new Error('Помилка! Введіть число!'); // return; - Uncaught SyntaxError: Illegal return statement
            }

            if (bombardaX < 1 || bombardaX > areaX) {
                alert(`Введіть координати від 1 до ${areaX}!`);
                throw new Error(`Помилка! Введіть координати від 1 до ${areaX}!`); // return; - Uncaught SyntaxError: Illegal return statement
            }

            if (bombardaY < 1 || bombardaY > areaY) {
                alert(`Введіть координати від 1 до ${areaY}!`);
                throw new Error(`Помилка! Введіть координати від 1 до ${areaY}!`); // return; - Uncaught SyntaxError: Illegal return statement
            }

            if (bombardaX === shipX && bombardaY === shipY) {
                isShip = true;
                break;
            }
            
            alert('Ви промахнулися!');

            bombardaCount++;
        }

        if (isShip) {
            document.write(`Корабель потоплено за ${bombardaCount} снарядів!`);
        } else {
            document.write(`Корабель не потоплено!`);
        }
    </script>
</body>
</html>
