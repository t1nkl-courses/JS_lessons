<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 17 / Задача 2</title>
</head>

<body>
    <a href="../index.html">Lesson 17</a> / <a href="./task2.html">Задача 2</a>
    <hr>

    <h1>Задача 2.</h1>

    <p>
        Створити службове авто (водій, марка, номер).
        Створити клас таким чином, щоб можна було створити тільки один екземпляр цього класу.
    </p>

    <script>
        class Car {
            constructor(driver, brand, number) {
                this.driver = driver;
                this.brand = brand;
                this.number = number;
            }

            static getInstance(driver, brand, number) {
                if (!Car.instance) {
                    Car.instance = new Car(driver, brand, number);
                }
                
                return Car.instance;
            }
        }

        const randomName = () => {
            const names = ['Ivan', 'Petro', 'Stepan', 'Mykola', 'Oleksandr'];
            return names[Math.floor(Math.random() * names.length)];
        }
        const randomBrand = () => {
            const brands = ['BMW', 'Audi', 'Mercedes', 'Toyota', 'Honda'];
            return brands[Math.floor(Math.random() * brands.length)];
        }

        const car1 = Car.getInstance(randomName(), randomBrand(), 'AA1234AA');
        document.write(`car1: ${car1.driver} ${car1.brand} ${car1.number}<br>`);

        const car2 = Car.getInstance(randomName(), randomBrand(), 'AA5678BB');
        document.write(`car2: ${car2.driver} ${car2.brand} ${car2.number}<br>`);

        const car3 = Car.getInstance(randomName(), randomBrand(), 'AA9012CC');
        document.write(`car3: ${car3.driver} ${car3.brand} ${car3.number}<br>`);
    </script>
</body>

</html>