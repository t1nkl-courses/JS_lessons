<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 18 / Задача 1</title>
</head>

<body>
    <a href="../index.html">Lesson 18</a> / <a href="./task1.html">Задача 1</a>
    <hr>

    <h1>Задача 1.</h1>

    <p>
        Розробити калькулятор
        <ul>
            <li>First number - <code>&lt;input type="number" value="0" id="firstNumber"/&gt;</code></li>
            <li>Second number - <code>&lt;input type="number" value="0" id="secondNumber"/&gt;</code></li>
            <li>Add - <code>&lt;button type="submit"&gt;Add&lt;/button&gt;</code></li>
            <li>Subtract - <code>&lt;button type="submit"&gt;Subtract&lt;/button&gt;</code></li>
            <li>Multiply - <code>&lt;button type="submit"&gt;Multiply&lt;/button&gt;</code></li>
            <li>Divide - <code>&lt;button type="submit"&gt;Divide&lt;/button&gt;</code></li>
            <li>Result - <code>&lt;input type="number" value="0" id="result"/&gt;</code></li>
        </ul>
    </p>

    <div class="container" id="calculator"></div>

    <script>
        class Calculator {
            constructor(firstNumber = 0, secondNumber = 0) {
                this.firstNumber = firstNumber;
                this.secondNumber = secondNumber;
            }

            add() {
                return this.firstNumber + this.secondNumber;
            }

            subtract() {
                return this.firstNumber - this.secondNumber;
            }

            multiply() {
                return this.firstNumber * this.secondNumber;
            }

            divide() {
                if (this.secondNumber === 0) {
                    alert('На нуль ділити не можна!');

                    return 0;
                }

                return this.firstNumber / this.secondNumber;
            }

            addEventListeners(addButton, subtractButton, multiplyButton, divideButton) {
                addButton.addEventListener('click', () => {
                    this.firstNumber = Number(firstNumber.value);
                    this.secondNumber = Number(secondNumber.value);
                    result.value = this.add();
                });

                subtractButton.addEventListener('click', () => {
                    this.firstNumber = Number(firstNumber.value);
                    this.secondNumber = Number(secondNumber.value);
                    result.value = this.subtract();
                });

                multiplyButton.addEventListener('click', () => {
                    this.firstNumber = Number(firstNumber.value);
                    this.secondNumber = Number(secondNumber.value);
                    result.value = this.multiply();
                });

                divideButton.addEventListener('click', () => {
                    this.firstNumber = Number(firstNumber.value);
                    this.secondNumber = Number(secondNumber.value);
                    result.value = this.divide();
                });
            }

            // Тут вирішив використовувати властивості HTMLImputElement класу
            // У задачі 2 використав властивість Element класу setAttribute
            // У задачі 3 використав цілу шмачину коду через innerHTML
            render() {
                const container = document.getElementById('calculator');

                const firstNumberDiv = document.createElement('div');
                const firstNumberLabel = document.createElement('label');
                firstNumberLabel.innerText = 'First number - ';
                const firstNumber = document.createElement('input');
                firstNumber.type = 'number';
                firstNumber.value = 0;
                firstNumber.id = 'firstNumber';
                firstNumberDiv.appendChild(firstNumberLabel);
                firstNumberDiv.appendChild(firstNumber);

                const secondNumberDiv = document.createElement('div');
                const secondNumberLabel = document.createElement('label');
                secondNumberLabel.innerText = 'Second number - ';
                const secondNumber = document.createElement('input');
                secondNumber.type = 'number';
                secondNumber.value = 0;
                secondNumber.id = 'secondNumber';
                secondNumberDiv.appendChild(secondNumberLabel);
                secondNumberDiv.appendChild(secondNumber);
                
                const addButton = document.createElement('button');
                addButton.type = 'submit';
                addButton.innerText = 'Add';
                addButton.id = 'addButton';

                const subtractButton = document.createElement('button');
                subtractButton.type = 'submit';
                subtractButton.innerText = 'Subtract';
                subtractButton.id = 'subtractButton';

                const multiplyButton = document.createElement('button');
                multiplyButton.type = 'submit';
                multiplyButton.innerText = 'Multiply';
                multiplyButton.id = 'multiplyButton';

                const divideButton = document.createElement('button');
                divideButton.type = 'submit';
                divideButton.innerText = 'Divide';

                const hr = document.createElement('hr');

                const resultDiv = document.createElement('div');
                const resultLabel = document.createElement('label');
                resultLabel.innerText = 'Result - ';
                const result = document.createElement('input');
                result.type = 'number';
                result.value = 0;
                result.id = 'result';
                result.readOnly = true;
                resultDiv.appendChild(resultLabel);
                resultDiv.appendChild(result);

                container.appendChild(firstNumberDiv);
                container.appendChild(secondNumberDiv);
                container.appendChild(addButton);
                container.appendChild(subtractButton);
                container.appendChild(multiplyButton);
                container.appendChild(divideButton);
                container.appendChild(hr);
                container.appendChild(resultDiv);
                
                this.addEventListeners(addButton, subtractButton, multiplyButton, divideButton);
            }
        }

        const calculator = new Calculator();
        calculator.render();
    </script>
</body>

</html>