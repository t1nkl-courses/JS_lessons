<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Lesson 8 / Задача 2</title>
</head>
<body>
    <a href="../index.html">Lesson 8</a> / <a href="./task2.html">Задача 2</a>
    <hr>
    
    <h1>Задача 2.</h1>

    <p>
        Дано масив, який зберігає кількість відвідувачів магазину протягом тижня.
        Вивести на екран:
        <ul>
            <li>номери днів, протягом яких кількість відвідувачів була меншою за 20;</li>
            <li>номери днів, коли кількість відвідувачів була мінімальною;</li>
            <li>номери днів, коли кількість відвідувачів була мінімальною;</li>
            <li>загальну кількість клієнтів у робочі дні та окремо загальну кількість днів на вихідних;</li>
        </ul>
    </p>

    <script>
        const visitors = Array.from({length: 7}, () => Math.floor(Math.random() * 100) + 1);

        // вираховуємо мінімальну та максимальну кількість відвідувачів
        function getMaxAndMinVisitors(visitors) {
            let minVisitors = visitors[0]
                maxVisitors = visitors[0];

            for (let i = 0; i < visitors.length; i++) {
                if (visitors[i] < minVisitors) {
                    minVisitors = visitors[i];
                }

                if (visitors[i] > maxVisitors) {
                    maxVisitors = visitors[i];
                }
            }

            return {
                minVisitors,
                maxVisitors
            }
        }
        const maxAndMinVisitors = getMaxAndMinVisitors(visitors);
        const minVisitorsCount = maxAndMinVisitors.minVisitors;
        const maxVisitorsCount = maxAndMinVisitors.maxVisitors;

        // вираховуємо номери днів, протягом яких кількість відвідувачів була меншою за 20
        function getLowerThan20VisitorsDays(visitors) {
            const lowerThan20VisitorsDays = [];

            for (let i = 0; i < visitors.length; i++) {
                if (visitors[i] < 20) {
                    lowerThan20VisitorsDays.push(i + 1);
                }
            }

            return lowerThan20VisitorsDays;
        }
        const lowerThan20VisitorsDaysCount = getLowerThan20VisitorsDays(visitors);

        // вираховуємо робочі та вихідні дні
        function getWorkAndWeekendDays(visitors) {
            let workDays = 0
                weekendDays = 0;

            for (let i = 0; i < visitors.length; i++) {
                if (i < 5) {
                    workDays += visitors[i];
                } else {
                    weekendDays += visitors[i];
                }
            }

            return {
                workDays,
                weekendDays
            }
        }
        const workAndWeekendDays = getWorkAndWeekendDays(visitors);
        const workDaysCount = workAndWeekendDays.workDays;
        const weekendDaysCount = workAndWeekendDays.weekendDays;

        let result = '';
            result += '<table border="1">';
            result += '<tr><th>День</th><th>Кількість відвідувачів</th></tr>';
            for (let i = 0; i < visitors.length; i++) {
                result +=`<tr><td>${i + 1}</td><td>${visitors[i]}</td></tr>`;
            }
            result += '</table><br>';
            result += `Номери днів, протягом яких кількість відвідувачів була меншою за 20: ${lowerThan20VisitorsDaysCount.join(', ')}<br>`;
            result += `Номери днів, коли кількість відвідувачів була мінімальною: ${minVisitorsCount}<br>`;
            result += `Номери днів, коли кількість відвідувачів була максимальною: ${maxVisitorsCount}<br>`;
            result += `Загальна кількість клієнтів у робочі дні: ${workDaysCount}<br>`;
            result += `Загальна кількість клієнтів на вихідних: ${weekendDaysCount}`;
        
        document.write(result);
    </script>
</body>
</html>
